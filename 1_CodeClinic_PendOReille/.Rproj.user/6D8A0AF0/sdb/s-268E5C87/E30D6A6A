{
    "contents" : "GetPendOreille <- function(startDate,endDate) {\n  # startDate and endDate are in the format YYYYMMDD\n  # now with lubridate\n \n  # check input for validity\n  the.start.date <- ymd(startDate)\n  the.end.date <- ymd(endDate)\n  if (the.start.date > the.end.date) {\n    # Error: the end date is earlier than the start date\n    stop(\"Invalid input: start date is after end date\")\n  }\n  \n  if (the.start.date < ymd(\"20010101\")) {\n    # Error: Lake Pend Oreille didn't record any data prior to 2001\n    stop(\"No Data available prior to 2001\")\n  }\n  if (the.end.date > now()) {\n    # Error: input is asking for data for tomorrow\n    stop(\"End Date is later than today\")\n  }\n  \n  # Now I'm confident the input is usable.\n  # Based on the input, I'm going to grab the data I need\n  por.weather.data <- data.frame(theDateTime=as.numeric(),\n                               Wind_Speed=as.numeric(),\n                               Air_Temp=as.numeric(),\n                               Barometric_Press=as.numeric()\n  )\n  \n  # raw data for deep moor is found at http://lpo.dt.navy.mil/data/DM/\n  kPORDeepMoorPath <- \"http://lpo.dt.navy.mil/data/DM/\"\n  \n  # date.pointer keeps track of what dates have been read\n  date.pointer <- the.start.date \n    \n  while (date.pointer < the.end.date) {\n    if (year(date.pointer) < 2011) {\n      # prior to 2011, data was stored in one file per year\n      file.to.read <- paste(kPORDeepMoorPath,\"Environmental_Data_\",year(date.pointer),\".txt\",sep=\"\")\n      # date,time,Wind_Speed,Air_Temp,Barometric_Press\n      tmp.wd <- read.table(file.to.read,sep=\"\\t\",header=TRUE)\n      \n      # drop unneeded columns\n      tmp.wd[c(\"Wind_Gust\",\"Wind_Dir\",\"Relative_Humidity\",\n              \"Water_Temp\",\"Water_Temp_50\",\"Water_Temp_100\",\n              \"Water_Temp_200\",\"Water_Temp_400\")] <- list(NULL)\n      \n      # clean up date time column\n      colnames(tmp.wd)[1] <- \"theDateTime\" \n      \n      # merge the two data.frames\n      por.weather.data <- rbind(por.weather.data,tmp.wd)\n      \n      # increment date.pointer\n      year(date.pointer) <- year(date.pointer) + 1\n      \n    } else {\n      # after 2010, data is stored in separate files in a directory\n\n      while (date.pointer <= the.end.date ) {\n        \n      }\n     # /2011/2011_01_02/Wind_Speed\n     # file.to.read <- paste(kPORDeepMoorPath,grab.this.year,\"/\",grab.this.year,\"_\",,\".txt\",sep=\"\")\n      \n    }\n  }\n  \n  \n  # return\n  # calculate the mean and median of the \n  # wind speed, air temperature and barometric pressure \n  # recorded at the deep moor station \n  # for a given range of dates\n}\n",
    "created" : 1416810135007.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "623546918",
    "id" : "E30D6A6A",
    "lastKnownWriteTime" : 1416896104,
    "path" : "~/git/CodeClinicR/1_CodeClinic_PendOReille/getpendoreille.R",
    "project_path" : "getpendoreille.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}